(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8868a7cc"],{"01ea":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var r="/wm",s="http://114.242.60.27:8090",n="production"},"18ed":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:t.multiple,filterable:"",placeholder:"请选择年度",clearable:"",size:"small"},on:{change:t.handleChange},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},t._l(t.list,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)},s=[],n=a("b199"),d={props:{multiple:{type:Boolean,default:!1},current:{type:String,default:""}},data:function(){return{year:"",list:[]}},mounted:function(){this.getData(),this.current&&(this.year=this.current)},methods:{getData:function(){var t=this;n["h"].selectyear().then((function(e){t.list=e.data}))},handleChange:function(t){this.$emit("change",t)}}},o=d,l=a("5d22"),c=Object(l["a"])(o,r,s,!1,null,"55eaebee",null);e["a"]=c.exports},"8a11":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-form",{attrs:{inline:"",model:t.searchData,size:"small","label-width":"80px"}},[a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(e){return t.openAddDialog("add")}}},[t._v("新增")])],1),t._v(" "),a("el-form-item",{attrs:{label:"年度"}},[a("select-year",{on:{change:t.handleChangeYear}})],1),t._v(" "),a("el-form-item",{attrs:{label:"作业员"}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchData.user_id,callback:function(e){t.$set(t.searchData,"user_id",e)},expression:"searchData.user_id"}},t._l(t.options.deptUser,(function(t){return a("el-option",{key:t.user_id,attrs:{label:t.user_name,value:t.user_id}})})),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleQuery}},[t._v("搜索")])],1),t._v(" "),a("el-form-item",[a("el-upload",{staticClass:"upload-button",attrs:{action:t.baseUrl+"/task/taskcommon/addbylist",data:{dept_id:t.userInfo.dept_id,dept_name:t.userInfo.dept_name,user_id:t.userInfo.id,user_name:t.userInfo.login_name},"on-success":t.handleUploadSuccess,"show-file-list":!1}},[a("el-button",{attrs:{type:"primary"}},[t._v("批量导入")])],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.data}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"任务名称",prop:"ctask_name",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"任务类型",prop:"ctask_type"}}),t._v(" "),a("el-table-column",{attrs:{label:"工天",prop:"ctask_workdays"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建人",prop:"ctask_oper"}}),t._v(" "),a("el-table-column",{attrs:{label:"作业员",prop:"user_name"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"ctask_year"}}),t._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return t.openAddDialog("eidt",e.row)}}},[t._v("编辑")]),t._v(" "),a("el-link",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.row.ctask_id,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"add"===t.dialog.add.type?"添加":"修改",visible:t.dialog.add.visible,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(e){return t.$set(t.dialog.add,"visible",e)}}},[a("div",[a("el-form",{ref:"addForm",attrs:{model:t.dialog.add.form,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"ctask_name",rules:[{required:!0,message:"不能空"}]}},[a("el-input",{model:{value:t.dialog.add.form.ctask_name,callback:function(e){t.$set(t.dialog.add.form,"ctask_name",e)},expression:"dialog.add.form.ctask_name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工天",prop:"ctask_workdays",rules:[{required:!0,message:"不能空"}]}},[a("el-input",{attrs:{type:"number",step:"0.01",min:"0",onkeyup:"this.value= this.value.match(/\\d+(\\.\\d{0,2})?/) ? this.value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''"},model:{value:t.dialog.add.form.ctask_workdays,callback:function(e){t.$set(t.dialog.add.form,"ctask_workdays",e)},expression:"dialog.add.form.ctask_workdays"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业员",prop:"user_id",rules:[{required:!0,message:"不能空"}]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.dialog.add.form.user_id,callback:function(e){t.$set(t.dialog.add.form,"user_id",e)},expression:"dialog.add.form.user_id"}},t._l(t.options.deptUser,(function(t){return a("el-option",{key:t.user_id,attrs:{label:t.user_name,value:t.user_id}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务类型",prop:"ctask_type",rules:[{required:!0,message:"不能空"}]}},[a("el-input",{attrs:{disabled:""},model:{value:t.dialog.add.form.ctask_type,callback:function(e){t.$set(t.dialog.add.form,"ctask_type",e)},expression:"dialog.add.form.ctask_type"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建人",prop:"ctask_oper"}},[a("el-input",{attrs:{disabled:""},model:{value:t.dialog.add.form.ctask_oper,callback:function(e){t.$set(t.dialog.add.form,"ctask_oper",e)},expression:"dialog.add.form.ctask_oper"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建时间",prop:"ctask_year"}},[a("el-date-picker",{staticStyle:{width:"280px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",disabled:""},model:{value:t.dialog.add.form.ctask_year,callback:function(e){t.$set(t.dialog.add.form,"ctask_year",e)},expression:"dialog.add.form.ctask_year"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.dialog.add.form.remark,callback:function(e){t.$set(t.dialog.add.form,"remark",e)},expression:"dialog.add.form.remark"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialog.add.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSubmit()}}},[t._v("确定")])],1)])],1)},s=[],n=(a("ac67"),a("1bc7"),a("32ea"),a("28f8")),d=a("52c1"),o=a("01ea"),l=a("b199"),c=a("18ed"),i=a("857b");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={components:{SelectYear:c["a"]},data:function(){return{baseUrl:o["b"],updateTitle:"",updateParams:{},uploadUrl:"",searchData:{dept_id:this.$store.getters.userInfo.dept_id},table:{data:[]},options:{deptUser:[],taskState:[]},dialog:{add:{visible:!1,type:"add",form:{}}}}},computed:p({},Object(d["b"])(["userInfo"])),mounted:function(){this.getOptions(),this.getTableData()},methods:{handleChangeYear:function(t){this.searchData.ctask_year=t},getTableData:function(){var t=this,e=Object(i["e"])(this.searchData);l["e"].select(e).then((function(e){t.table.data=e.data}))},getOptions:function(){var t=this;l["h"].selectdeptuser().then((function(e){t.options.deptUser=e.data}))},handleQuery:function(){this.getTableData()},openAddDialog:function(t,e){Object(i["g"])(this,"addForm");var a=Object.assign({},e);"add"===t&&(this.$set(a,"ctask_oper",this.userInfo.login_name),this.$set(a,"ctask_type","日常任务"),this.$set(a,"ctask_year",Object(i["d"])(new Date,"yyyy-MM-dd"))),console.log(e),this.dialog.add={visible:!0,type:t,form:Object.assign({},a)||{}}},handleSubmit:function(t){var e=this;if(!Object(i["j"])(this,"addForm"))return!1;var a=null,r=Object.assign({ctask_type:"日常任务",dept_id:this.userInfo.dept_id,dept_name:this.userInfo.dept_name},this.dialog.add.form);a="add"===this.dialog.add.type?this.handleAdd(r):this.handleEdit(r),a.then((function(t){Object(i["i"])(e,t),e.dialog.add.visible=!1,e.getTableData()}))},handleAdd:function(t){return l["e"].add(t)},handleEdit:function(t){return l["e"].update(t)},handleDelete:function(t,e){var a=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l["e"].delete({ctask_id:t}).then((function(t){Object(i["i"])(a,t),a.getTableData()}))})).catch((function(){}))},fileUpload:function(){this.updateTitle="导入",this.updateParams={dept_id:this.userInfo.dept_id,dept_name:this.userInfo.dept_name,user_id:this.userInfo.id,user_name:this.userInfo.login_name},this.uploadUrl="/task/taskcommon/addbylist",this.$refs["fileUpload"].isOpen=!0},handleUploadSuccess:function(t){Object(i["i"])(this,t),this.getTableData()}}},k=m,f=a("5d22"),b=Object(f["a"])(k,r,s,!1,null,null,null);e["default"]=b.exports},b199:function(t,e,a){"use strict";a.d(e,"i",(function(){return l})),a.d(e,"g",(function(){return c})),a.d(e,"j",(function(){return i})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"e",(function(){return m})),a.d(e,"f",(function(){return k})),a.d(e,"h",(function(){return f})),a.d(e,"b",(function(){return b})),a.d(e,"a",(function(){return h}));a("ac67"),a("1bc7"),a("32ea");var r=a("28f8"),s=a("b775"),n=a("da71");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={add:function(t,e){return Object(s["a"])({url:"/task/taskinfo/add",method:"post",params:t,data:e})},deletebyid:function(){return Object(s["a"])({url:"/task/taskinfo/deletebyid",method:"get"})},deletebyindex:function(){return Object(s["a"])({url:"/task/taskinfo/deletebyindex",method:"get"})},getbyid:function(t){return Object(s["a"])({url:"/task/taskinfo/getbyid",method:"get",params:t})},select:function(){return Object(s["a"])({url:"/task/taskinfo/select",method:"get"})},update:function(t){return Object(s["a"])({url:"/task/taskinfo/update",method:"post",data:t})}},c={add:function(t){return Object(s["a"])({url:"/task/taskdistribution/add",method:"post",data:t})},delete:function(t){return Object(s["a"])({url:"/task/taskdistribution/delete",method:"get",params:t})},selectbyid:function(){return Object(s["a"])({url:"/task/taskdistribution/selectbyid",method:"get"})},update:function(t){return Object(s["a"])({url:"/task/taskdistribution/update",method:"post",data:t})},updateend:function(){return Object(s["a"])({url:"/task/taskdistribution/updateend",method:"get"})},updatestart:function(){return Object(s["a"])({url:"/task/taskdistribution/updatestart",method:"get"})},taskcontent:function(t){return Object(s["a"])({url:"/task/taskdistribution/taskcontent",method:"get",params:t})},select:function(t){return Object(s["a"])({url:"task/taskdistribution/selectTaskSchedulePersonnel",method:"get",params:t})}},i={add:function(t){return Object(s["a"])({url:"/task/taskother/add",method:"post",data:t})},addbylist:function(){return Object(s["a"])({url:"/task/taskother/addbylist",method:"post"})},delete:function(){return Object(s["a"])({url:"/task/taskother/delete",method:"get"})},select:function(){return Object(s["a"])({url:"/task/taskother/select",method:"get"})},selectbyid:function(){return Object(s["a"])({url:"/task/taskother/selectbyid",method:"get"})},update:function(){return Object(s["a"])({url:"/task/taskother/update",method:"post"})},selectcode:function(){return Object(s["a"])({url:"/task/taskother/selectcode",method:"get"})}},u={add:function(t){return Object(s["a"])({url:"/task/taskcheck/add",method:"post",data:t})},delete:function(){return Object(s["a"])({url:"/task/taskcheck/delete",method:"get"})},select:function(){return Object(s["a"])({url:"/task/taskcheck/select",method:"get"})},selectbyid:function(t){return Object(s["a"])({url:"/task/taskcheck/selectbyid",method:"get",params:t})},update:function(){return Object(s["a"])({url:"/task/taskcheck/update",method:"post"})},updateend:function(){return Object(s["a"])({url:"/task/taskcheck/updateend",method:"post"})},getTaskCheckByDisID:function(t){return Object(s["a"])({url:"/task/taskcheck/getTaskCheckByDisID",method:"get",params:t})},updataTaskCheckByDisID:function(t){return Object(s["a"])({url:"/task/taskcheck/updataTaskCheckByDisID",method:"post",data:t})}},p={add:function(t){return Object(s["a"])({url:"/task/taskclass/add",method:"get",params:t})},delete:function(t){return Object(s["a"])({url:"/task/taskclass/delete",method:"get",params:t})},fieldbyid:function(t){return Object(s["a"])({url:"/task/taskclass/fieldbyid",method:"get",params:t})},getchildmax:function(){return Object(s["a"])({url:"/task/taskclass/getchildmax",method:"get"})},getdepttree:function(){return Object(s["a"])({url:"/task/taskclass/getdepttree",method:"get"})},gettree:function(t){return Object(s["a"])({url:"/task/taskclass/gettree",method:"get",params:t})},gettreeEdit:function(t){return Object(s["a"])({url:"/task/taskclass/gettreeEdit",method:"get",params:t})},nameisexist:function(){return Object(s["a"])({url:"/task/taskclass/nameisexist",method:"get"})},select:function(){return Object(s["a"])({url:"/task/taskclass/select",method:"get"})},selectbyid:function(){return Object(s["a"])({url:"/task/taskclass/selectbyid",method:"get"})},update:function(t){return Object(s["a"])({url:"/task/taskclass/update",method:"get",params:t})}},m={add:function(t){return Object(s["a"])({url:"/task/taskcommon/add",method:"post",data:t})},addbylist:function(){return Object(s["a"])({url:"/task/taskcommon/addbylist",method:"post"})},delete:function(t){return Object(s["a"])({url:"/task/taskcommon/delete",method:"get",params:t})},select:function(t){return Object(s["a"])({url:"/task/taskcommon/select",method:"get",params:t})},selectbyid:function(){return Object(s["a"])({url:"/task/taskcommon/selectbyid",method:"get"})},update:function(t){return Object(s["a"])({url:"/task/taskcommon/update",method:"post",data:t})}},k={adddeptlist:function(t,e){return Object(s["a"])({url:"/task/taskdept/adddeptlist",method:"post",params:t,data:e})},addlist:function(t){return Object(s["a"])({url:"/task/taskdept/addlist",method:"post",data:t})},addone:function(){return Object(s["a"])({url:"/task/taskdept/addone",method:"post"})},deletebyid:function(){return Object(s["a"])({url:"/task/taskdept/deletebyid",method:"get"})},deletebyindexid:function(){return Object(s["a"])({url:"/task/taskdept/deletebyindexid",method:"get"})},select:function(){return Object(s["a"])({url:"/task/taskdept/select",method:"get"})},update:function(){return Object(s["a"])({url:"/task/taskdept/update",method:"post"})},updatelist:function(){return Object(s["a"])({url:"/task/taskdept/updatelist",method:"post"})}},f={addlist:function(){return Object(s["a"])({url:"/task/taskindex/addlist",method:"post"})},addone:function(){return Object(s["a"])({url:"/task/taskindex/addone",method:"post"})},bookdeptlist:function(){return Object(s["a"])({url:"/task/taskindex/bookdeptlist",method:"get"})},booklist:function(){return Object(s["a"])({url:"/task/taskindex/booklist",method:"get"})},checklist:function(t){return Object(s["a"])({url:"/task/taskindex/pageCheckList",method:"get",params:t})},checklistdetail:function(t){return Object(s["a"])({url:"/task/taskindex/checklistdetail",method:"get",params:t})},checklistexport:function(t){return Object(s["a"])(o({url:"/task/taskindex/checklistexport",method:"get",params:t},n["a"]))},delete:function(t){return Object(s["a"])({url:"/task/taskindex/delete",method:"get",params:t})},mapdeptlist:function(){return Object(s["a"])({url:"/task/taskindex/mapdeptlist",method:"get"})},deptchecklist:function(t){return Object(s["a"])({url:"/task/taskindex/deptchecklist",method:"get",params:t})},getchecktaskresult:function(t){return Object(s["a"])({url:"/task/taskindex/getchecktaskresult",method:"get",params:t})},maplist:function(){return Object(s["a"])({url:"/task/taskindex/maplist",method:"get"})},othersdeptlist:function(){return Object(s["a"])({url:"/task/taskindex/othersdeptlist",method:"get"})},otherslist:function(){return Object(s["a"])({url:"/task/taskindex/otherslist",method:"get"})},select:function(){return Object(s["a"])({url:"/task/taskindex/select",method:"get"})},selectbyid:function(){return Object(s["a"])({url:"/task/taskindex/selectbyid",method:"get"})},selectchecktask:function(t){return Object(s["a"])({url:"/task/taskindex/selectchecktask",method:"get",params:t})},selectchecktaskexport:function(t){return Object(s["a"])(o({url:"/task/taskindex/selectchecktaskexport",method:"get",params:t},n["a"]))},selectdepttask:function(t){return Object(s["a"])({url:"/task/taskindex/selectdepttask",method:"get",params:t})},selectdeptuser:function(t){return Object(s["a"])({url:"/task/taskindex/selectdeptuser",method:"get",params:t})},selectyear:function(){return Object(s["a"])({url:"/task/taskindex/selectyear",method:"get"})},update:function(){return Object(s["a"])({url:"/task/taskindex/update",method:"post"})},updateclass:function(t){return Object(s["a"])({url:"/task/taskindex/updateclass",method:"get",params:t})},updatedata:function(){return Object(s["a"])({url:"/task/taskindex/updatedata",method:"get"})},updaterate:function(){return Object(s["a"])({url:"/task/taskindex/updaterate",method:"get"})},updatestate:function(t){return Object(s["a"])({url:"/task/taskindex/updatestate",method:"get",params:t})},updatestatelist:function(t){return Object(s["a"])({url:"/task/taskindex/updatestatelist",method:"get",params:t})},updateyear:function(){return Object(s["a"])({url:"/task/taskindex/updateyear",method:"get"})},updateyearlist:function(t){return Object(s["a"])({url:"/task/taskindex/updateyearlist",method:"get",params:t})},checkTaskInfo:function(t){return Object(s["a"])({url:"/task/taskindex/checkInfo",method:"get",params:t})},selectTasklist:function(t){return Object(s["a"])({url:"/task/taskindex/selectTasklist",method:"get",params:t})},addTask:function(t){return Object(s["a"])({url:"/task/taskindex/addTask",method:"post",data:t})},updateTaskName:function(t){return Object(s["a"])({url:"/task/taskindex/updateTaskName",method:"post",params:t})}},b={add:function(t,e,a){return Object(s["a"])(o({url:"/task/projecttemplate/add",method:"post",params:t,data:e},a))},dataimport:function(t){return Object(s["a"])({url:"/task/projecttemplate/dataimport",method:"post",params:t})},deletebyid:function(t){return Object(s["a"])({url:"/task/projecttemplate/deletebyid",method:"get",params:t})},filedownload:function(t){return Object(s["a"])(o({url:"/task/projecttemplate/filedownload",method:"get",params:t},n["a"]))},select:function(t){return Object(s["a"])({url:"/task/projecttemplate/select",method:"get",params:t})},selectbyid:function(t){return Object(s["a"])({url:"/task/projecttemplate/selectbyid",method:"get",params:t})},update:function(t,e,a){return Object(s["a"])(o({url:"/task/projecttemplate/update",method:"post",params:t,data:e},a))},upfile:function(t){return Object(s["a"])({url:"/task/projecttemplate/upfile",method:"post",params:t})}},h={add:function(t,e){return Object(s["a"])(o({url:"/task/projectfiles/add",method:"get",params:t},e))},deletebyid:function(t){return Object(s["a"])({url:"/task/projectfiles/delete",method:"get",params:t})},filedownload:function(t){return Object(s["a"])(o({url:"/task/projectfiles/download",method:"get",params:t},n["a"]))},select:function(t){return Object(s["a"])({url:"/task/projectfiles/select",method:"get",params:t})},selectbyid:function(t){return Object(s["a"])({url:"/task/projectfiles/selectbyid",method:"get",params:t})},update:function(t){return Object(s["a"])({url:"/task/projectfiles/update",method:"post",data:t})},upfile:function(t){return Object(s["a"])({url:"/task/projectfiles/upfile",method:"post",params:t})}}}}]);