(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-032c4893"],{"01ea":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return s}));var n="/wm",r="http://114.242.60.27:8090",s="production"},"731d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{height:"100%",margin:"0"}},[a("el-row",{staticStyle:{},attrs:{gutter:40}},[a("el-col",{attrs:{span:10}},[a("el-tabs",{on:{"tab-click":t.handleChangeTab},model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}},[a("el-tab-pane",{attrs:{label:"项目文档",name:"项目文档"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"周报",name:"项目周报"}})],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-upload",{staticClass:"upload-button",attrs:{action:t.baseUrl+"/task/projectfiles/add",data:{project_id:t.projectId,file_type:t.fileType},"show-file-list":!1,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.table.data}},[a("el-table-column",{attrs:{label:"名称",prop:"file_name"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.row.file_id)}}},[t._v("删除")]),t._v(" "),a("el-link",{attrs:{type:"warning",icon:"el-icon-download"},on:{click:function(a){return t.handleDownLoad(e.row)}}},[t._v("下载")]),t._v(" "),a("el-link",{attrs:{type:"primary",icon:"el-icon-view"},on:{click:function(a){return t.handleLookUp(e.row)}}},[t._v("预览")])]}}])})],1)],1),t._v(" "),t.filePath?a("el-col",{attrs:{span:14}},[a("iframe",{staticStyle:{height:"91vh"},attrs:{src:t.filePath,width:"800"}})]):t._e()],1)],1)},r=[],s=(a("ac67"),a("1bc7"),a("32ea"),a("28f8")),c=a("01ea"),o=a("52c1"),u=a("b199"),d=a("857b");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{baseUrl:c["b"],projectId:"",fileType:"项目文档",filePath:"",table:{data:[],fileList:[],weeklyList:[]}}},computed:l(l({},Object(o["b"])(["userInfo"])),{},{currentDate:function(){return Object(d["d"])(new Date,"yyyy-MM-dd")}}),mounted:function(){this.projectId=this.$route.query.id,this.getTableData()},methods:{handleExport:function(t){projecttemplateApi.filedownload({template_id:t.template_id}).then((function(e){Object(d["c"])(e,t.template_name)}))},getTableData:function(){var t=this;u["a"].select({project_id:this.projectId,file_type:this.fileType}).then((function(e){t.table.data=e.data}))},handleChangeTab:function(){this.getTableData()},openAddDialog:function(t,e){resetForm(this,"addForm"),this.dialog.add={visible:!0,type:t,form:Object.assign({},e)||{}}},handleDownLoad:function(t){var e=this,a=t.file_name,n=(t.file_path,t.http_path,t.file_id);console.log(t),u["a"].filedownload({file_id:n}).then((function(t){Object(d["i"])(e,t),Object(d["b"])(e,t,a)}))},handleDelete:function(t){var e=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u["a"].deletebyid({file_id:t}).then((function(t){Object(d["i"])(e,t),e.getTableData()}))})).catch((function(){}))},handleUploadSuccess:function(t){Object(d["i"])(this,t),200===t.code&&this.getTableData()},handleUploadError:function(){this.$message.success("上传失败")},handleLookUp:function(t){this.filePath="/wm"+t.file_path,console.log("/wm")}}},k=p,b=a("5d22"),f=Object(b["a"])(k,n,r,!1,null,null,null);e["default"]=f.exports},b199:function(t,e,a){"use strict";a.d(e,"i",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"j",(function(){return i})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return p})),a.d(e,"e",(function(){return k})),a.d(e,"f",(function(){return b})),a.d(e,"h",(function(){return f})),a.d(e,"b",(function(){return m})),a.d(e,"a",(function(){return h}));a("ac67"),a("1bc7"),a("32ea");var n=a("28f8"),r=a("b775"),s=a("da71");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={add:function(t,e){return Object(r["a"])({url:"/task/taskinfo/add",method:"post",params:t,data:e})},deletebyid:function(){return Object(r["a"])({url:"/task/taskinfo/deletebyid",method:"get"})},deletebyindex:function(){return Object(r["a"])({url:"/task/taskinfo/deletebyindex",method:"get"})},getbyid:function(t){return Object(r["a"])({url:"/task/taskinfo/getbyid",method:"get",params:t})},select:function(){return Object(r["a"])({url:"/task/taskinfo/select",method:"get"})},update:function(t){return Object(r["a"])({url:"/task/taskinfo/update",method:"post",data:t})}},d={add:function(t){return Object(r["a"])({url:"/task/taskdistribution/add",method:"post",data:t})},delete:function(t){return Object(r["a"])({url:"/task/taskdistribution/delete",method:"get",params:t})},selectbyid:function(){return Object(r["a"])({url:"/task/taskdistribution/selectbyid",method:"get"})},update:function(t){return Object(r["a"])({url:"/task/taskdistribution/update",method:"post",data:t})},updateend:function(){return Object(r["a"])({url:"/task/taskdistribution/updateend",method:"get"})},updatestart:function(){return Object(r["a"])({url:"/task/taskdistribution/updatestart",method:"get"})},taskcontent:function(t){return Object(r["a"])({url:"/task/taskdistribution/taskcontent",method:"get",params:t})},select:function(t){return Object(r["a"])({url:"task/taskdistribution/selectTaskSchedulePersonnel",method:"get",params:t})}},i={add:function(t){return Object(r["a"])({url:"/task/taskother/add",method:"post",data:t})},addbylist:function(){return Object(r["a"])({url:"/task/taskother/addbylist",method:"post"})},delete:function(){return Object(r["a"])({url:"/task/taskother/delete",method:"get"})},select:function(){return Object(r["a"])({url:"/task/taskother/select",method:"get"})},selectbyid:function(){return Object(r["a"])({url:"/task/taskother/selectbyid",method:"get"})},update:function(){return Object(r["a"])({url:"/task/taskother/update",method:"post"})},selectcode:function(){return Object(r["a"])({url:"/task/taskother/selectcode",method:"get"})}},l={add:function(t){return Object(r["a"])({url:"/task/taskcheck/add",method:"post",data:t})},delete:function(){return Object(r["a"])({url:"/task/taskcheck/delete",method:"get"})},select:function(){return Object(r["a"])({url:"/task/taskcheck/select",method:"get"})},selectbyid:function(t){return Object(r["a"])({url:"/task/taskcheck/selectbyid",method:"get",params:t})},update:function(){return Object(r["a"])({url:"/task/taskcheck/update",method:"post"})},updateend:function(){return Object(r["a"])({url:"/task/taskcheck/updateend",method:"post"})},getTaskCheckByDisID:function(t){return Object(r["a"])({url:"/task/taskcheck/getTaskCheckByDisID",method:"get",params:t})},updataTaskCheckByDisID:function(t){return Object(r["a"])({url:"/task/taskcheck/updataTaskCheckByDisID",method:"post",data:t})}},p={add:function(t){return Object(r["a"])({url:"/task/taskclass/add",method:"get",params:t})},delete:function(t){return Object(r["a"])({url:"/task/taskclass/delete",method:"get",params:t})},fieldbyid:function(t){return Object(r["a"])({url:"/task/taskclass/fieldbyid",method:"get",params:t})},getchildmax:function(){return Object(r["a"])({url:"/task/taskclass/getchildmax",method:"get"})},getdepttree:function(){return Object(r["a"])({url:"/task/taskclass/getdepttree",method:"get"})},gettree:function(t){return Object(r["a"])({url:"/task/taskclass/gettree",method:"get",params:t})},gettreeEdit:function(t){return Object(r["a"])({url:"/task/taskclass/gettreeEdit",method:"get",params:t})},nameisexist:function(){return Object(r["a"])({url:"/task/taskclass/nameisexist",method:"get"})},select:function(){return Object(r["a"])({url:"/task/taskclass/select",method:"get"})},selectbyid:function(){return Object(r["a"])({url:"/task/taskclass/selectbyid",method:"get"})},update:function(t){return Object(r["a"])({url:"/task/taskclass/update",method:"get",params:t})}},k={add:function(t){return Object(r["a"])({url:"/task/taskcommon/add",method:"post",data:t})},addbylist:function(){return Object(r["a"])({url:"/task/taskcommon/addbylist",method:"post"})},delete:function(t){return Object(r["a"])({url:"/task/taskcommon/delete",method:"get",params:t})},select:function(t){return Object(r["a"])({url:"/task/taskcommon/select",method:"get",params:t})},selectbyid:function(){return Object(r["a"])({url:"/task/taskcommon/selectbyid",method:"get"})},update:function(t){return Object(r["a"])({url:"/task/taskcommon/update",method:"post",data:t})}},b={adddeptlist:function(t,e){return Object(r["a"])({url:"/task/taskdept/adddeptlist",method:"post",params:t,data:e})},addlist:function(t){return Object(r["a"])({url:"/task/taskdept/addlist",method:"post",data:t})},addone:function(){return Object(r["a"])({url:"/task/taskdept/addone",method:"post"})},deletebyid:function(){return Object(r["a"])({url:"/task/taskdept/deletebyid",method:"get"})},deletebyindexid:function(){return Object(r["a"])({url:"/task/taskdept/deletebyindexid",method:"get"})},select:function(){return Object(r["a"])({url:"/task/taskdept/select",method:"get"})},update:function(){return Object(r["a"])({url:"/task/taskdept/update",method:"post"})},updatelist:function(){return Object(r["a"])({url:"/task/taskdept/updatelist",method:"post"})}},f={addlist:function(){return Object(r["a"])({url:"/task/taskindex/addlist",method:"post"})},addone:function(){return Object(r["a"])({url:"/task/taskindex/addone",method:"post"})},bookdeptlist:function(){return Object(r["a"])({url:"/task/taskindex/bookdeptlist",method:"get"})},booklist:function(){return Object(r["a"])({url:"/task/taskindex/booklist",method:"get"})},checklist:function(t){return Object(r["a"])({url:"/task/taskindex/pageCheckList",method:"get",params:t})},checklistdetail:function(t){return Object(r["a"])({url:"/task/taskindex/checklistdetail",method:"get",params:t})},checklistexport:function(t){return Object(r["a"])(o({url:"/task/taskindex/checklistexport",method:"get",params:t},s["a"]))},delete:function(t){return Object(r["a"])({url:"/task/taskindex/delete",method:"get",params:t})},mapdeptlist:function(){return Object(r["a"])({url:"/task/taskindex/mapdeptlist",method:"get"})},deptchecklist:function(t){return Object(r["a"])({url:"/task/taskindex/deptchecklist",method:"get",params:t})},getchecktaskresult:function(t){return Object(r["a"])({url:"/task/taskindex/getchecktaskresult",method:"get",params:t})},maplist:function(){return Object(r["a"])({url:"/task/taskindex/maplist",method:"get"})},othersdeptlist:function(){return Object(r["a"])({url:"/task/taskindex/othersdeptlist",method:"get"})},otherslist:function(){return Object(r["a"])({url:"/task/taskindex/otherslist",method:"get"})},select:function(){return Object(r["a"])({url:"/task/taskindex/select",method:"get"})},selectbyid:function(){return Object(r["a"])({url:"/task/taskindex/selectbyid",method:"get"})},selectchecktask:function(t){return Object(r["a"])({url:"/task/taskindex/selectchecktask",method:"get",params:t})},selectchecktaskexport:function(t){return Object(r["a"])(o({url:"/task/taskindex/selectchecktaskexport",method:"get",params:t},s["a"]))},selectdepttask:function(t){return Object(r["a"])({url:"/task/taskindex/selectdepttask",method:"get",params:t})},selectdeptuser:function(t){return Object(r["a"])({url:"/task/taskindex/selectdeptuser",method:"get",params:t})},selectyear:function(){return Object(r["a"])({url:"/task/taskindex/selectyear",method:"get"})},update:function(){return Object(r["a"])({url:"/task/taskindex/update",method:"post"})},updateclass:function(t){return Object(r["a"])({url:"/task/taskindex/updateclass",method:"get",params:t})},updatedata:function(){return Object(r["a"])({url:"/task/taskindex/updatedata",method:"get"})},updaterate:function(){return Object(r["a"])({url:"/task/taskindex/updaterate",method:"get"})},updatestate:function(t){return Object(r["a"])({url:"/task/taskindex/updatestate",method:"get",params:t})},updatestatelist:function(t){return Object(r["a"])({url:"/task/taskindex/updatestatelist",method:"get",params:t})},updateyear:function(){return Object(r["a"])({url:"/task/taskindex/updateyear",method:"get"})},updateyearlist:function(t){return Object(r["a"])({url:"/task/taskindex/updateyearlist",method:"get",params:t})},checkTaskInfo:function(t){return Object(r["a"])({url:"/task/taskindex/checkInfo",method:"get",params:t})},selectTasklist:function(t){return Object(r["a"])({url:"/task/taskindex/selectTasklist",method:"get",params:t})},addTask:function(t){return Object(r["a"])({url:"/task/taskindex/addTask",method:"post",data:t})},updateTaskName:function(t){return Object(r["a"])({url:"/task/taskindex/updateTaskName",method:"post",params:t})}},m={add:function(t,e,a){return Object(r["a"])(o({url:"/task/projecttemplate/add",method:"post",params:t,data:e},a))},dataimport:function(t){return Object(r["a"])({url:"/task/projecttemplate/dataimport",method:"post",params:t})},deletebyid:function(t){return Object(r["a"])({url:"/task/projecttemplate/deletebyid",method:"get",params:t})},filedownload:function(t){return Object(r["a"])(o({url:"/task/projecttemplate/filedownload",method:"get",params:t},s["a"]))},select:function(t){return Object(r["a"])({url:"/task/projecttemplate/select",method:"get",params:t})},selectbyid:function(t){return Object(r["a"])({url:"/task/projecttemplate/selectbyid",method:"get",params:t})},update:function(t,e,a){return Object(r["a"])(o({url:"/task/projecttemplate/update",method:"post",params:t,data:e},a))},upfile:function(t){return Object(r["a"])({url:"/task/projecttemplate/upfile",method:"post",params:t})}},h={add:function(t,e){return Object(r["a"])(o({url:"/task/projectfiles/add",method:"get",params:t},e))},deletebyid:function(t){return Object(r["a"])({url:"/task/projectfiles/delete",method:"get",params:t})},filedownload:function(t){return Object(r["a"])(o({url:"/task/projectfiles/download",method:"get",params:t},s["a"]))},select:function(t){return Object(r["a"])({url:"/task/projectfiles/select",method:"get",params:t})},selectbyid:function(t){return Object(r["a"])({url:"/task/projectfiles/selectbyid",method:"get",params:t})},update:function(t){return Object(r["a"])({url:"/task/projectfiles/update",method:"post",data:t})},upfile:function(t){return Object(r["a"])({url:"/task/projectfiles/upfile",method:"post",params:t})}}}}]);