(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffd07e3c"],{"0710":function(t,e,a){"use strict";a("6d83")},4753:function(t,e,a){},5506:function(t,e,a){"use strict";a("4753")},"69b0":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"6d83":function(t,e,a){},"9ad9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",attrs:{id:"scienceTask-container"}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:"",model:t.searchForm}},[a("el-form-item",{attrs:{label:"项目年份","label-width":"70px"}},[a("select-year",{on:{change:t.handleChangeYear}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目状态","label-width":"80px"}},[a("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.searchForm.project_state,callback:function(e){t.$set(t.searchForm,"project_state",e)},expression:"searchForm.project_state"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.tableData,"highlight-current-row":"",border:"","max-height":"500"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"project_name"}}),t._v(" "),a("el-table-column",{attrs:{label:"项目类型",prop:"project_title"}}),t._v(" "),a("el-table-column",{attrs:{label:"下达人员",prop:"project_maker"}}),t._v(" "),a("el-table-column",{attrs:{label:"周期",prop:"project_cycle"}}),t._v(" "),a("el-table-column",{attrs:{label:"下达时间",prop:"project_startdate"}}),t._v(" "),a("el-table-column",{attrs:{label:"进度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:function(a){return t.viewThis(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("pagination",{attrs:{"current-page":t.searchForm.page_number,"page-size":t.searchForm.page_size,total:t.tableData.length},on:{"page-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"人员分配与进度浏览",visible:t.progressVisible,width:"800px"},on:{"update:visible":function(e){t.progressVisible=e}}},[a("div",{staticClass:"task-list-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.progressData}},[a("el-table-column",{attrs:{label:"过程"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.project_rate))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"人员"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.project_oper))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"工天"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.project_days))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.project_startdate))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.project_enddate))]}}])})],1)],1)])],1)},r=[],l=(a("d91d"),a("4c09")),o=(a("857b"),a("b775")),s={getList:function(t){return Object(o["a"])({url:"/task/projectinfo/select",method:"get",params:t})}},c=a("24d2"),i=a("18ed"),u=a("3641"),p={components:{SelectYear:i["a"],Pagination:u["a"]},data:function(){return{searchForm:{project_year:"",project_state:"",page_number:1,page_size:10},statusOptions:[{value:"处理中",label:"处理中"},{value:"已完成",label:"已完成"}],tableData:[],progressVisible:!1,progressData:[]}},computed:{userInfo:function(){return console.log(this.$store.getters.userInfo),this.$store.getters.userInfo}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var t=this;s.getList().then((function(e){t.tableData=Object(l["a"])(e.data.list)})).catch((function(t){console.log(t)}))},handleChangeYear:function(t){this.searchForm.project_year=t,this.search()},selectChange:function(){this.search()},search:function(){var t=this,e=this.searchForm;s.getList(e).then((function(e){t.tableData=Object(l["a"])(e.data.list)})).catch((function(t){console.log(t)}))},viewThis:function(t){var e=this;this.progressVisible=!0;var a={dept_id:this.userInfo.dept_id,project_id:t.project_id};c["b"].select(a).then((function(t){console.log(t),e.progressData=t.data})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){}}},d=p,f=(a("0710"),a("5506"),a("5d22")),h=Object(f["a"])(d,n,r,!1,null,"7fe5632c",null);e["default"]=h.exports},d91d:function(t,e,a){"use strict";var n=a("a86f"),r=a("69b0"),l=a("f417");a("c46f")("search",1,(function(t,e,a,o){return[function(a){var n=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=o(a,t,this);if(e.done)return e.value;var s=n(t),c=String(this),i=s.lastIndex;r(i,0)||(s.lastIndex=0);var u=l(s,c);return r(s.lastIndex,i)||(s.lastIndex=i),null===u?-1:u.index}]}))}}]);