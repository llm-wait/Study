(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21609e"],{c182:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"app-container"},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{"label-width":"40px",size:"small"}},[a("el-form-item",{attrs:{label:"年份"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}},e._l(e.yearList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),a("el-card",{staticClass:"tree-card",attrs:{shadow:"never",header:"组织机构"}},[a("el-tree",{attrs:{data:e.tree.dept.data,props:e.tree.dept.props,"default-expand-all":!0,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{span:18,offset:2}},[a("el-form",{attrs:{inline:"",model:e.form,size:"small","label-width":"180px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_name,callback:function(t){e.$set(e.form,"dept_name",t)},expression:"form.dept_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机关核准总工天",prop:"station_name"}},[a("el-input",{model:{value:e.form.jghzgt,callback:function(t){e.$set(e.form,"jghzgt",t)},expression:"form.jghzgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位总人数",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_zrs,callback:function(t){e.$set(e.form,"dept_zrs",t)},expression:"form.dept_zrs"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位考评人数",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_kprs,callback:function(t){e.$set(e.form,"dept_kprs",t)},expression:"form.dept_kprs"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位实际总工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_sjzgt,callback:function(t){e.$set(e.form,"dept_sjzgt",t)},expression:"form.dept_sjzgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位考评总工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_kpzgt,callback:function(t){e.$set(e.form,"dept_kpzgt",t)},expression:"form.dept_kpzgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位人均工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_rjgt,callback:function(t){e.$set(e.form,"dept_rjgt",t)},expression:"form.dept_rjgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位考评人均工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_rjkpgt,callback:function(t){e.$set(e.form,"dept_rjkpgt",t)},expression:"form.dept_rjkpgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位优秀总工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_yxzgt,callback:function(t){e.$set(e.form,"dept_yxzgt",t)},expression:"form.dept_yxzgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位优秀考评总工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_yxkpzgt,callback:function(t){e.$set(e.form,"dept_yxkpzgt",t)},expression:"form.dept_yxkpzgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位平均优秀工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_pjyxgt,callback:function(t){e.$set(e.form,"dept_pjyxgt",t)},expression:"form.dept_pjyxgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位平均优秀率",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dept_pjyxl,callback:function(t){e.$set(e.form,"dept_pjyxl",t)},expression:"form.dept_pjyxl"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"全社平均工天",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.qspjgt,callback:function(t){e.$set(e.form,"qspjgt",t)},expression:"form.qspjgt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"全社平均优秀率",prop:"station_name"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.qspjyxl,callback:function(t){e.$set(e.form,"qspjyxl",t)},expression:"form.qspjyxl"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12,offset:12}},[a("el-form-item",{staticStyle:{"margin-left":"250px","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdate}},[e._v("修改核准工天")])],1)],1)],1)],1)],1)},r=[],o=a("6797"),s=a("857b"),n=(new Date).getFullYear(),p={components:{},data:function(){return{year:n,form:{},tree:{dept:{data:[],props:{children:"childNodes",label:"nodeName"},selected:null}},tableLoading:!1}},computed:{yearList:function(){var e=2020,t=n,a=[t];while(t>e)t--,a.push(t);return a}},mounted:function(){this.getTree()},methods:{getTree:function(){var e=this;return o["e"].getJgTree({kpnf:this.year}).then((function(t){e.tree.dept.data=[t.data]}))},getData:function(){var e=this;this.tableLoading=!0;var t=this.tree.dept.selected,a=t.id,l=t.nodeName,r=this.year,s={dept_id:a,dept_name:l,kpnf:r};o["e"].getJgKpInfo(s).then((function(t){e.form=t.data,e.tableLoading=!1}))},handleNodeClick:function(e){this.tree.dept.selected=e,this.getData()},handleChange:function(){this.getData()},handleUpdate:function(){var e=this,t=this.tree.dept.selected,a=t.id,l=t.nodeName,r=this.form.jghzgt,n={dept_id:a,dept_name:l,jghzgt:r};o["e"].saveJghzgt(n).then((function(t){Object(s["i"])(e,t)}))}}},i=p,d=a("5d22"),m=Object(d["a"])(i,l,r,!1,null,null,null);t["default"]=m.exports}}]);