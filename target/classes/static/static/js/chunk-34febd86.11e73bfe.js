(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34febd86"],{"156a":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData}},[e.hasIndex?l("el-table-column",{attrs:{label:"序号",type:"index",width:"80"}}):e._e(),e._v(" "),e._l(e.tableColumn,(function(e){return l("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:"140"}})}))],2)},r=[],o={props:{tableData:{type:Array,default:function(){return[]}},tableColumn:{type:Array,default:function(){return[]}},hasIndex:{type:Boolean,default:!0}},data:function(){return{}}},n=o,s=l("5d22"),p=Object(s["a"])(n,a,r,!1,null,null,null);t["a"]=p.exports},"55b0":function(e,t,l){"use strict";l("5fd0")},"5fd0":function(e,t,l){},"69b0":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},7860:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("el-card",{staticClass:"tree-card",attrs:{shadow:"never",header:"部门人员列表"}},[l("el-tree",{staticClass:"tree-card-content",attrs:{data:e.tree.dept.data,props:e.tree.dept.props,"node-key":"id","default-expand-all":!0,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1)],1),e._v(" "),l("el-col",{attrs:{span:20}},[l("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px",size:"small"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"姓名"}},[e._v("\n              "+e._s(e.search.userName)+"\n              ")])],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"考评年份"}},[e._v("\n              "+e._s(e.search.year)+"\n              ")])],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"录入状态"}},[0===e.userImportState?l("el-tag",{attrs:{type:"warning"}},[e._v("未知")]):e._e(),e._v(" "),1===e.userImportState?l("el-tag",{attrs:{type:"success"}},[e._v("成绩已录入")]):e._e(),e._v(" "),2===e.userImportState?l("el-tag",{attrs:{type:"danger"}},[e._v("成绩未录入")]):e._e()],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"业务能力",prop:"ywnl"}},[l("el-input-number",{attrs:{controls:!1},model:{value:e.form.ywnl,callback:function(t){e.$set(e.form,"ywnl",t)},expression:"form.ywnl"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"工作态度",prop:"gztd"}},[l("el-input-number",{attrs:{controls:!1},model:{value:e.form.gztd,callback:function(t){e.$set(e.form,"gztd",t)},expression:"form.gztd"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"出勤率",prop:"cql"}},[l("el-input-number",{attrs:{controls:!1},model:{value:e.form.cql,callback:function(t){e.$set(e.form,"cql",t)},expression:"form.cql"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"训练成绩",prop:"xlcj"}},[l("el-input-number",{attrs:{controls:!1},model:{value:e.form.xlcj,callback:function(t){e.$set(e.form,"xlcj",t)},expression:"form.xlcj"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"比武成绩",prop:"bwcj"}},[l("el-input-number",{attrs:{controls:!1},model:{value:e.form.bwcj,callback:function(t){e.$set(e.form,"bwcj",t)},expression:"form.bwcj"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"通报表扬",prop:"tbby"}},[l("el-input-number",{attrs:{controls:!1,precision:0},model:{value:e.form.tbby,callback:function(t){e.$set(e.form,"tbby",t)},expression:"form.tbby"}}),e._v("   次\n            ")],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"额定工天",prop:"edgt"}},[l("el-input-number",{attrs:{controls:!1,precision:0},model:{value:e.form.edgt,callback:function(t){e.$set(e.form,"edgt",t)},expression:"form.edgt"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"是否参与考评"}},[l("el-radio-group",{model:{value:e.form.sfcykp,callback:function(t){e.$set(e.form,"sfcykp",t)},expression:"form.sfcykp"}},[l("el-radio",{attrs:{label:"是"}}),e._v(" "),l("el-radio",{attrs:{label:"否"}})],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"是否有重大错误"}},[l("el-radio-group",{model:{value:e.form.sfjg,callback:function(t){e.$set(e.form,"sfjg",t)},expression:"form.sfjg"}},[l("el-radio",{attrs:{label:"是"}}),e._v(" "),l("el-radio",{attrs:{label:"否"}})],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:13}},[l("el-form-item",{attrs:{label:"错误详情",prop:"remark"}},[l("el-input",{attrs:{type:"textarea",disabled:"否"===e.form.sfjg},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:11}},[l("el-form-item",{staticStyle:{"margin-top":"6px"}},[l("el-button",{attrs:{type:"primary",disabled:e.disableSubmit},on:{click:e.handleSubmit}},[e._v("录入")]),e._v(" "),l("el-button",{attrs:{type:"danger",disabled:e.disableSubmit},on:{click:e.handleDelete}},[e._v("删除")]),e._v(" "),l("el-button",{attrs:{type:"success",disabled:e.disableSubmit},on:{click:e.handleSave}},[e._v("成绩存档")])],1)],1)],1)],1),e._v(" "),l("el-tabs",{on:{"tab-click":e.handleTabsClick},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[l("el-tab-pane",{attrs:{label:"质量测评",name:"1"}},[l("TableList",{attrs:{"table-data":e.tableData.zlcj,"table-column":e.tableColumn1}})],1),e._v(" "),l("el-tab-pane",{attrs:{label:"工天测评",name:"2"}},[l("TableList",{attrs:{"table-data":e.tableData.gtcj,"table-column":e.tableColumn2}})],1),e._v(" "),l("el-tab-pane",{attrs:{label:"能力与态度",name:"3"}},[l("TableList",{attrs:{"table-data":e.tableData.nltdcj,"table-column":e.tableColumn3}})],1),e._v(" "),l("el-tab-pane",{attrs:{label:"业务训练",name:"4"}},[l("TableList",{attrs:{"table-data":e.tableData.ywxlcj,"table-column":e.tableColumn4}})],1),e._v(" "),l("el-tab-pane",{attrs:{label:"综合测评",name:"5"}},[l("TableList",{attrs:{"table-data":e.tableData.zhcj,"table-column":e.tableColumn5}})],1)],1)],1)],1)],1)},r=[],o=(l("ac67"),l("1bc7"),l("32ea"),l("a450"),l("d91d"),l("28f8")),n=l("52c1"),s=l("156a"),p=l("ffb2"),b=l("6797"),c=l("857b"),i={currentYear:(new Date).getFullYear(),getYearList:function(){var e=2020,t=this.currentYear,l=[t];while(t>e)t--,l.push(t);return l}};function u(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function d(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?u(Object(l),!0).forEach((function(t){Object(o["a"])(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var m={components:{TableList:s["a"]},data:function(){return{data:[],treeData:[],treeProps:{children:"childNodes",label:"nodeName"},tree:{dept:{data:[],props:{children:"childNodes",label:"nodeName"}}},currentTab:"1",tableData:{gtcj:[],nltdcj:[],ywxlcj:[],zhcj:[],zlcj:[]},tableColumn1:p["a"].tableColumn1,tableColumn2:p["a"].tableColumn2,tableColumn3:p["a"].tableColumn3,tableColumn4:p["a"].tableColumn4,tableColumn5:p["a"].tableColumn5,options:[],defaultForm:{ywnl:void 0,gztd:void 0,cql:void 0,xlcj:void 0,bwcj:void 0,tbby:void 0,sfcykp:"是",sfjg:"否",errorinfo:""},form:{},rules:{ywnl:[{required:!0,message:"不能为空",trigger:"blur"}],gztd:[{required:!0,message:"不能为空",trigger:"blur"}],cql:[{required:!0,message:"不能为空",trigger:"blur"}],xlcj:[{required:!0,message:"不能为空",trigger:"blur"}],bwcj:[{required:!0,message:"不能为空",trigger:"blur"}],tbby:[{required:!0,message:"不能为空",trigger:"blur"}],edgt:[{required:!0,message:"不能为空",trigger:"blur"}]},search:{userId:"",userName:"",year:i.currentYear,group:"",people:""},userImportState:0,dialog:{add:{visible:!1,type:"add",form:{}}}}},computed:d(d({},Object(n["b"])(["userInfo"])),{},{disableSubmit:function(){this.form;var e=this.search;return!e.userName},disableRemove:function(){var e=this.search;return!e.userName}}),created:function(){this.getTree(),this.getZysFinalScore()},methods:{getTree:function(){var e=this;b["e"].getZysUserTree({dept_id:this.userInfo.dept_id}).then((function(t){e.tree.dept.data=[t.data]}))},getData:function(){var e=this;b["e"].getUserBaseScore({user_id:this.search.userId}).then((function(t){e.userImportState=t.data?1:2,e.form=Object.assign({},e.defaultForm,t.data||{})}))},handleNodeClick:function(e){"人员"===e.nodeType&&(this.search.userId=e.nodeID,this.search.userName=e.nodeName,this.getData(),Object(c["g"])(this,"form"))},handleTabsClick:function(e,t){this.currentTab=e.name},handleSubmit:function(){var e=this;if(!Object(c["j"])(this,"form"))return!1;var t=this.search.userId,l=Object(c["e"])(Object.assign({user_id:t,dept_id:this.userInfo.dept_id},this.form));b["e"].saveUserScore(l).then((function(t){Object(c["i"])(e,t),e.userImportState=1}))},handleChange:function(){this.getData()},handleDelete:function(){var e=this;b["e"].deleteUserScore({user_id:this.search.userId}).then((function(t){e.$message.success("删除成功"),e.userImportState=2,e.form={}}))},handleSave:function(){var e=this;b["e"].saveToFinalScore({dept_id:this.userInfo.dept_id}).then((function(t){e.$message.success("存档成功"),e.getZysFinalScore()}))},getZysFinalScore:function(){var e=this;b["e"].getZysFinalScore({dept_id:this.userInfo.dept_id}).then((function(t){e.tableData=t.data}))}}},f=m,g=(l("55b0"),l("5d22")),v=Object(g["a"])(f,a,r,!1,null,"3cf1f6c1",null);t["default"]=v.exports},d91d:function(e,t,l){"use strict";var a=l("a86f"),r=l("69b0"),o=l("f417");l("c46f")("search",1,(function(e,t,l,n){return[function(l){var a=e(this),r=void 0==l?void 0:l[t];return void 0!==r?r.call(l,a):new RegExp(l)[t](String(a))},function(e){var t=n(l,e,this);if(t.done)return t.value;var s=a(e),p=String(this),b=s.lastIndex;r(b,0)||(s.lastIndex=0);var c=o(s,p);return r(s.lastIndex,b)||(s.lastIndex=b),null===c?-1:c.index}]}))},ffb2:function(e,t,l){"use strict";t["a"]={tableColumn1:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"hgl",label:"合格率"},{prop:"hgldf",label:"合格率得分"},{prop:"yxl",label:"优秀率"},{prop:"yxldf",label:"优秀率得分"},{prop:"yxgt",label:"优秀工天"},{prop:"yxgtb",label:"优秀工天比"},{prop:"yxgtbdf",label:"优秀工天比得分"},{prop:"gctkf",label:"改成图扣分"},{prop:"jsxgkf",label:"技术修改扣分"},{prop:"zlzdf",label:"质量总得分"},{prop:"zlpm",label:"质量排名"}],tableColumn2:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"gt",label:"工天"},{prop:"gtdf",label:"工天得分"},{prop:"gtb",label:"工天比"},{prop:"gtbdf",label:"工天比得分"},{prop:"gtzdf",label:"工天总得分"},{prop:"gtpm",label:"工天得分排名"}],tableColumn3:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"ywnl",label:"业务能力"},{prop:"gztd",label:"工作态度"},{prop:"nltdzf",label:"能力态度总得分"},{prop:"nltdpm",label:"能力态度得分排名"}],tableColumn4:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"cql",label:"出勤率"},{prop:"cqldf",label:"出勤率得分"},{prop:"xlcj",label:"训练成绩"},{prop:"xlcjdf",label:"训练得分"},{prop:"bwcj",label:"比武成绩"},{prop:"bwcjdf",label:"比武得分"},{prop:"ywxlzdf",label:"业务训练总得分"},{prop:"ywxlpm",label:"训练排名"}],tableColumn5:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"hgl",label:"合格率"},{prop:"hgldf",label:"合格率得分"},{prop:"yxl",label:"优秀率"},{prop:"yxldf",label:"优秀率得分"},{prop:"yxgt",label:"优秀工天"},{prop:"yxgtb",label:"优秀工天比"},{prop:"yxgtbdf",label:"优秀工天比得分"},{prop:"gctkf",label:"改成图扣分"},{prop:"jsxgkf",label:"技术修改扣分"},{prop:"zlzdf",label:"质量总得分"},{prop:"zlpm",label:"质量排名"},{prop:"gt",label:"工天"},{prop:"gtdf",label:"工天得分"},{prop:"gtb",label:"工天比"},{prop:"gtbdf",label:"工天比得分"},{prop:"gtzdf",label:"工天总得分"},{prop:"gtpm",label:"工天得分排名"},{prop:"ywnl",label:"业务能力"},{prop:"gztd",label:"工作态度"},{prop:"nltdzf",label:"能力态度总得分"},{prop:"nltdpm",label:"能力态度得分排名"},{prop:"cql",label:"出勤率"},{prop:"cqldf",label:"出勤率得分"},{prop:"xlcj",label:"训练成绩"},{prop:"xlcjdf",label:"训练得分"},{prop:"bwcj",label:"比武成绩"},{prop:"bwcjdf",label:"比武得分"},{prop:"ywxlzdf",label:"业务训练总得分"},{prop:"ywxlpm",label:"训练排名"},{prop:"tbby",label:"通报表扬得分"},{prop:"kpzf",label:"考评总分"},{prop:"kpzpm",label:"考评总排名"},{prop:"pdjg",label:"评定结果"},{prop:"user_name",label:"姓名"}],tableColumn:[{tab:1,column:[]},{tab:2,column:[]},{tab:3,column:[]},{tab:4,column:[]},{tab:5,column:[]}],options:{group:[{value:"作业一组"},{value:"作业二组"}],people:[{value:"士兵"},{value:"现役技术干部"},{value:"员工"},{value:"返聘人员"}]}}}}]);