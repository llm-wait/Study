(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-608cfe0a"],{1221:function(l,e,a){"use strict";a.r(e);var t=function(){var l=this,e=l.$createElement,a=l._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form",{attrs:{"label-width":"40px",size:"small"}},[a("el-form-item",{attrs:{label:"年份"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:l.handleChange},model:{value:l.year,callback:function(e){l.year=e},expression:"year"}},l._l(l.yearList,(function(l){return a("el-option",{key:l,attrs:{label:l,value:l}})})),1)],1)],1),l._v(" "),a("el-card",{staticClass:"tree-card",attrs:{shadow:"never",header:"组织机构"}},[a("div",{staticClass:"tree-scroll"},[a("el-tree",{staticClass:"flow-tree",attrs:{data:l.tree.dept.data,props:l.tree.dept.props,"default-expand-all":!0,"expand-on-click-node":!1},on:{"node-click":l.handleNodeClick}})],1)])],1),l._v(" "),a("el-col",{attrs:{span:20}},[a("el-row",[a("el-form",{attrs:{inline:"",model:l.form,size:"small"}},[a("el-form-item",{attrs:{label:"组别"}},[a("el-select",{model:{value:l.form.zb,callback:function(e){l.$set(l.form,"zb",e)},expression:"form.zb"}},l._l(l.options.zb,(function(l){return a("el-option",{key:l,attrs:{label:l,value:l}})})),1)],1),l._v(" "),a("el-form-item",{attrs:{label:"人员类别"}},[a("el-select",{model:{value:l.form.rylb,callback:function(e){l.$set(l.form,"rylb",e)},expression:"form.rylb"}},l._l(l.options.rylb,(function(l){return a("el-option",{key:l,attrs:{label:l,value:l}})})),1)],1),l._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:l.handleQuery}},[l._v("搜索")])],1),l._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:l.handleExport}},[l._v("结果导出")])],1)],1)],1),l._v(" "),a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:l.tableLoading,expression:"tableLoading"}],on:{"tab-click":l.handleTabsClick},model:{value:l.currentTab,callback:function(e){l.currentTab=e},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"质量测评",name:"1"}},[a("TableList",{attrs:{"table-data":l.tableData.zlcj,"table-column":l.tableColumn1}})],1),l._v(" "),a("el-tab-pane",{attrs:{label:"工天测评",name:"2"}},[a("TableList",{attrs:{"table-data":l.tableData.gtcj,"table-column":l.tableColumn2}})],1),l._v(" "),a("el-tab-pane",{attrs:{label:"能力与态度",name:"3"}},[a("TableList",{attrs:{"table-data":l.tableData.nltdcj,"table-column":l.tableColumn3}})],1),l._v(" "),a("el-tab-pane",{attrs:{label:"业务训练",name:"4"}},[a("TableList",{attrs:{"table-data":l.tableData.ywxlcj,"table-column":l.tableColumn4}})],1),l._v(" "),a("el-tab-pane",{attrs:{label:"综合测评",name:"5"}},[a("TableList",{attrs:{"table-data":l.tableData.zhcj,"table-column":l.tableColumn5}})],1)],1)],1)],1)],1)},r=[],o=(a("a450"),a("156a")),n=a("ffb2"),p=a("6797"),b=a("857b"),s=(new Date).getFullYear(),i={components:{TableList:o["a"]},data:function(){return{year:s,data:[],tree:{dept:{data:[],props:{children:"childNodes",label:"nodeName"},selected:null}},currentTab:"1",tableData:{nenglitaidu:[],gongzuo:[],zonghe:[],zhiliang:[],yewu:[]},tableLoading:!1,tableColumn1:n["a"].tableColumn1,tableColumn2:n["a"].tableColumn2,tableColumn3:n["a"].tableColumn3,tableColumn4:n["a"].tableColumn4,tableColumn5:n["a"].tableColumn5,searchData:{group:"",people:""},form:{calType:0,rylb:"全体人员",zb:"全体人员"},options:{zb:[],rylb:[]}}},computed:{yearList:function(){var l=2020,e=s,a=[e];while(e>l)e--,a.push(e);return a},userInfo:function(){return this.$store.getters.userInfo}},created:function(){this.getTree(),this.getData()},methods:{getTree:function(){var l=this;return p["e"].getJgTree({kpnf:this.year}).then((function(e){l.tree.dept.data=[e.data]}))},getOptions:function(l){var e=this,a={deptID:l,kpnf:this.year};p["e"].getJgZb(a).then((function(l){e.options.zb=l.data})),p["e"].getJgRylb(a).then((function(l){e.options.rylb=l.data}))},getData:function(){var l=this,e="";if(this.tableLoading=!0,this.tree.dept.selected)this.tree.dept.selected.id;var a=this.form,t=a.rylb,r=a.zb,o={dept_id:e,kpnf:this.year,rylb:t,zb:r};p["e"].getJgScore(o).then((function(e){l.tableData=e.data,l.tableLoading=!1}))},handleQuery:function(){this.getData()},handleNodeClick:function(l){this.tree.dept.selected=l,this.getOptions(l.id),this.getData()},handleChange:function(){this.getData()},handleTabsClick:function(l,e){this.currentTab=l.name},handleExport:function(){var l=this.form,e=l.rylb,a=l.zb,t={dept_id:this.userInfo.dept_id,rylb:e,zb:a};p["e"].exportZysScore(t).then((function(l){Object(b["c"])(l,"作业室考评信息")}))}}},c=i,u=(a("cd72"),a("5d22")),d=Object(u["a"])(c,t,r,!1,null,"c416dddc",null);e["default"]=d.exports},"156a":function(l,e,a){"use strict";var t=function(){var l=this,e=l.$createElement,a=l._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:l.tableData}},[l.hasIndex?a("el-table-column",{attrs:{label:"序号",type:"index",width:"80"}}):l._e(),l._v(" "),l._l(l.tableColumn,(function(l){return a("el-table-column",{key:l.prop,attrs:{prop:l.prop,label:l.label,width:"140"}})}))],2)},r=[],o={props:{tableData:{type:Array,default:function(){return[]}},tableColumn:{type:Array,default:function(){return[]}},hasIndex:{type:Boolean,default:!0}},data:function(){return{}}},n=o,p=a("5d22"),b=Object(p["a"])(n,t,r,!1,null,null,null);e["a"]=b.exports},cd72:function(l,e,a){"use strict";a("cd7c")},cd7c:function(l,e,a){},ffb2:function(l,e,a){"use strict";e["a"]={tableColumn1:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"hgl",label:"合格率"},{prop:"hgldf",label:"合格率得分"},{prop:"yxl",label:"优秀率"},{prop:"yxldf",label:"优秀率得分"},{prop:"yxgt",label:"优秀工天"},{prop:"yxgtb",label:"优秀工天比"},{prop:"yxgtbdf",label:"优秀工天比得分"},{prop:"gctkf",label:"改成图扣分"},{prop:"jsxgkf",label:"技术修改扣分"},{prop:"zlzdf",label:"质量总得分"},{prop:"zlpm",label:"质量排名"}],tableColumn2:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"gt",label:"工天"},{prop:"gtdf",label:"工天得分"},{prop:"gtb",label:"工天比"},{prop:"gtbdf",label:"工天比得分"},{prop:"gtzdf",label:"工天总得分"},{prop:"gtpm",label:"工天得分排名"}],tableColumn3:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"ywnl",label:"业务能力"},{prop:"gztd",label:"工作态度"},{prop:"nltdzf",label:"能力态度总得分"},{prop:"nltdpm",label:"能力态度得分排名"}],tableColumn4:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"cql",label:"出勤率"},{prop:"cqldf",label:"出勤率得分"},{prop:"xlcj",label:"训练成绩"},{prop:"xlcjdf",label:"训练得分"},{prop:"bwcj",label:"比武成绩"},{prop:"bwcjdf",label:"比武得分"},{prop:"ywxlzdf",label:"业务训练总得分"},{prop:"ywxlpm",label:"训练排名"}],tableColumn5:[{prop:"user_name",label:"姓名"},{prop:"station_name",label:"岗位"},{prop:"sfzz",label:"组长"},{prop:"hgl",label:"合格率"},{prop:"hgldf",label:"合格率得分"},{prop:"yxl",label:"优秀率"},{prop:"yxldf",label:"优秀率得分"},{prop:"yxgt",label:"优秀工天"},{prop:"yxgtb",label:"优秀工天比"},{prop:"yxgtbdf",label:"优秀工天比得分"},{prop:"gctkf",label:"改成图扣分"},{prop:"jsxgkf",label:"技术修改扣分"},{prop:"zlzdf",label:"质量总得分"},{prop:"zlpm",label:"质量排名"},{prop:"gt",label:"工天"},{prop:"gtdf",label:"工天得分"},{prop:"gtb",label:"工天比"},{prop:"gtbdf",label:"工天比得分"},{prop:"gtzdf",label:"工天总得分"},{prop:"gtpm",label:"工天得分排名"},{prop:"ywnl",label:"业务能力"},{prop:"gztd",label:"工作态度"},{prop:"nltdzf",label:"能力态度总得分"},{prop:"nltdpm",label:"能力态度得分排名"},{prop:"cql",label:"出勤率"},{prop:"cqldf",label:"出勤率得分"},{prop:"xlcj",label:"训练成绩"},{prop:"xlcjdf",label:"训练得分"},{prop:"bwcj",label:"比武成绩"},{prop:"bwcjdf",label:"比武得分"},{prop:"ywxlzdf",label:"业务训练总得分"},{prop:"ywxlpm",label:"训练排名"},{prop:"tbby",label:"通报表扬得分"},{prop:"kpzf",label:"考评总分"},{prop:"kpzpm",label:"考评总排名"},{prop:"pdjg",label:"评定结果"},{prop:"user_name",label:"姓名"}],tableColumn:[{tab:1,column:[]},{tab:2,column:[]},{tab:3,column:[]},{tab:4,column:[]},{tab:5,column:[]}],options:{group:[{value:"作业一组"},{value:"作业二组"}],people:[{value:"士兵"},{value:"现役技术干部"},{value:"员工"},{value:"返聘人员"}]}}}}]);